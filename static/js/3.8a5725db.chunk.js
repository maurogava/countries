(this.webpackJsonprepo=this.webpackJsonprepo||[]).push([[3],{51:function(e,t,r){"use strict";var s=r(0);const a=new WeakMap;let n;function c(e){e.forEach((e=>{if(a.has(e.target)){const t=a.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(n.unobserve(e.target),a.delete(e.target),t())}}))}function o(e){return void 0===n&&(n=new IntersectionObserver(c,e)),n}var l=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{rootMargin:"0px",threshold:0,root:null};Object(s.useEffect)((()=>{if(!e||!e.current)return;const s=e.current,n=o(r);return a.set(s,t),n.observe(s),()=>{a.delete(s),n.unobserve(s)}}),[])},i=r(4);t.a=e=>{let{alt:t="",src:r,className:a,width:n,height:c,preload:o=!1}=e;const u=Object(s.useRef)(null),[j,h]=Object(s.useState)(!1);return l(!o&&u,(()=>h(!0))),Object(i.jsx)("img",{alt:t,ref:u,...(j||o)&&{src:r},...a&&{className:a},...n&&{width:n},...c&&{height:c}})}},52:function(e,t,r){e.exports={link:"CountryCard_link__2rPbs",flagWrapper:"CountryCard_flagWrapper__1FPA4",flag:"CountryCard_flag__33Uas",textWrapper:"CountryCard_textWrapper__335gi",region:"CountryCard_region__aiwbO",country:"CountryCard_country__2jU6F",detailText:"CountryCard_detailText__3Sh5p"}},53:function(e,t,r){e.exports={list:"InnerCountryList_list__64H2s"}},54:function(e,t,r){e.exports={wrapper:"Search_wrapper__wNs1P",search:"Search_search__2PFlA"}},58:function(e,t,r){"use strict";r.r(t);var s=r(24),a=r(25),n=r(0),c=r(4);const o=Object(n.createContext)({countries:[],results:0,actions:{search:()=>{}}}),l=()=>Object(n.useContext)(o),i=e=>{let{children:t,countries:r}=e;const[s,a]=Object(n.useState)(r),l=Object(n.useCallback)((e=>{if(!e.length)return void a([...r]);const t=r.filter((t=>{let{name:r}=t;return new RegExp(e,"i").test(r)}));a(t)}),[r]),i=Object(n.useMemo)((()=>({countries:s,results:s.length,actions:{search:l}})),[s,l]);return Object(c.jsx)(o.Provider,{value:i,children:t})};var u=r(19),j=r(51),h=r(52),d=r.n(h);var b=e=>{let{name:t,flags:r,region:s}=e;return Object(c.jsxs)(u.b,{to:"/country-details/".concat(t),className:d.a.link,children:[Object(c.jsx)("div",{className:d.a.flagWrapper,children:Object(c.jsx)(j.a,{src:r.svg,alt:"".concat(t," flag"),className:d.a.flag})}),Object(c.jsxs)("div",{className:d.a.textWrapper,children:[Object(c.jsx)("p",{className:d.a.region,children:s}),Object(c.jsx)("h3",{className:d.a.country,children:t}),Object(c.jsx)("p",{className:d.a.detailText,children:"See country details"})]})]})},p=r(53),g=r.n(p);var x=()=>{const{countries:e}=l(),t=e.map((e=>{let{name:t,flags:r,region:s}=e;return Object(c.jsx)("li",{children:Object(c.jsx)(b,{name:t,flags:r,region:s})},t)}));return Object(c.jsx)("ul",{className:g.a.list,children:t})},O=r(15),f=r.n(O),_=r(54),m=r.n(_);var v=Object(n.memo)((e=>{let{className:t}=e;const{actions:{search:r}}=l(),s=Object(n.useCallback)((e=>r(e.currentTarget.value)),[r]);return Object(c.jsx)("div",{className:f()(m.a.wrapper,t),children:Object(c.jsx)("input",{className:m.a.search,id:"search",type:"text",onChange:s,placeholder:"Search"})})}));var C=e=>{let{countries:t}=e;return Object(c.jsxs)(i,{countries:t,children:[Object(c.jsx)(v,{}),Object(c.jsx)(x,{})]})};const y=()=>fetch("https://restcountries.com/v2/all").then((e=>e.json()));t.default=()=>{const{isLoading:e,error:t,data:r}=Object(s.useQuery)("allCountries",y,{refetchOnWindowFocus:!1});return e?Object(c.jsx)(a.a,{}):t||!r?Object(c.jsx)("p",{children:"An error has occurred"}):Object(c.jsx)(C,{countries:r})}}}]);
//# sourceMappingURL=3.8a5725db.chunk.js.map